\label{sec:intro:approach}
We start by building Edna, a library that integrates with web applications and
provides abstractions that let developers specify not just wholesale removal of
data, but also flexible redaction or decorrelation of data. Edna then changes
the database contents in well-defined ways that avoid breaking the application.
Developers and users both benefit from Edna: applications can expose and
advertise new privacy-protection features and reduce their exposure in the event
of a data breach, while users gain more control over their sealed data,
including the convenience of returning to the application as if their data had
been there all along.

We then propose Hydra, a library that enables web applications to provide their
users inbuilt for splintering and merging their web identities within the
application. With Hydra, applications can let users decorrelate data to
context-specific identities (\eg for work or for family), easily
move their data between identities, spin off new identities when necessary, and
merge identities if desired. Importantly, only the user can determine which
web application identities are linked to themselves.
%
Hydra explores the result of taking application-supported data
decorrelation to the extreme, while preserving application functionality and
protecting correlations between data and users. Applications both retain
(decorrelated) data for \eg analytical or advertising purposes, while users gain
security and control over what data is linked to which of their web application
identities.
%implements decorrelation of data, similar 

Users today give web applications their data but have little control over how
these applications store and protect this data.  Giving users control is
challenging for developers, as application functionality sometimes requires the
very same data that users want to protect.

Edna is a library that lets web application developers give users flexible and
correct control over their dataâ€™s exposure without breaking the application.
%Edna minimizes application changes and developer effort, and enables
%applications to securely hide user data and users to later restore it.  Edna
%introduces abstractions for \emph{sealing}, which selectively renders user data
%inaccessible via encryption, and \emph{revealing}, which enables the owning
%user to restore their data to the application.
%
Edna introduces \emph{sealing}, which removes or redacts some or all of a user's
data, and \emph{revealing}, which restores the sealed data at a user's request.
Sealed data remains on the server, but is encrypted and inaccessible to the web
application. Sealing changes the database contents and replaces the data to seal
with placeholder values where necessary (\eg comments require an associated
post). 

We designed Edna's seal and reveal abstractions to flexibly meet applications'
diverse needs while still protecting sensitive user data. Edna provides
developers with three well-defined primitives for anonymizing data: remove,
modify, and decorrelate. Developers compose these to create \emph{seal
specifications}, which describe the data to seal and which primitives to apply.
When invoked with a seal specification, Edna changes the database contents as
specified: ``remove'' drops rows, ``modify'' changes the contents of specific
cells, and ``decorrelate'' introduces \emph{pseudoprincipals}, anonymous
placeholder users. These pseudoprincipals help maintain referential integrity,
but also can act as built-in ``throwaway accounts.'' Rather than users having to
create and maintain throwaways themselves, Edna's pseudoprincipals enable the
user to later reassociate with their throwaway's data via revealing, or create
throwaways to disown posts after-the-fact.

We implemented a prototype of Edna, and evaluated it with three real-world web
applications: Lobsters, a discussion forum; HotCRP, a conference review system;
and WebSubmit, a homework submission application. Integrating Edna into these
applications required minor code changes. For example, supporting three types of
sealing in the 160k-LoC Lobsters application required adding 697 LoC. The
modified applications retained their expected semantics and functionality.
Edna's sealing and revealing performance depends on the amount of data affected,
but they generally complete in seconds and have a small effect on the
performance of concurrent operations.

In this thesis, I will discuss Edna's relationship to prior research, its
limitations, and the following contributions:
\begin{enumerate}[nosep] 
    \item A new paradigm for developers to provide flexible user control over data in web applications, with cryptographic protection and while maintaining application functionality and invariants.
    \item Abstractions for sealing and revealing, and a small set of data-anonymizing primitives (remove, modify, decorrelate) that cover a wide range of application needs and compose cleanly.
    \item The design and implementation of Edna, our prototype library that implements user data control via sealing and revealing, as well as Ednacrypt, which additionally encrypts unsealed data.
    \item Case studies of integrating Edna with three real-world web applications, an evaluation of Edna's effectiveness, performance, and security, and a comparison to Qapla.
\end{enumerate}

\begin{comment}

Edna is complementary to existing data protection mechanisms. For example, we
combine Edna with an encrypted database to achieve stronger guarantees.
Ednacrypt simultaneously protects against database server compromises even for
unsealed data and adds Edna's protections for sealed data to encrypted
databases, which have no built-in support for removing sensitive data without
breaking the application.

To investigate the need for Edna as a new system, we tried to realize Edna's
functionality atop Qapla~\cite{qapla}, a framework that rewrites SQL queries to
conform to access control policies. We found that Qapla requires invasive
application changes, its abstractions are awkward for sealing and revealing, and
Qapla's query rewriting slows down common queries.

%Edna has some limitations. Its usability goals, and specifically the fact that
%placeholder data continues to exist in the database, prevent Edna from
%protecting against inference attacks (\eg statistical correlation attacks). Edna
%also assumes bug-free seal specifications, and that applications use
%Edna correctly. Finally, Edna provides limited protection for sealed data
%against attackers who compromise the database server, as auxiliary database
%information (\eg logs) may contain old plaintext data; Ednacrypt strengthens
%these protections.

\end{comment}


\section{Hydra}

Hydra narrows down on a specific aspect of Edna, namely how users control their
identities and links between their identities and data in web applications.
Users today will manually implement ad-hoc alternatives like throwaway accounts
and ``finstas''~\cite{reddit:throwaway, nytimes:finsta} to post content that is
visible but disconnected from the ``real'' account. 

Hydra provides a library that enables web applications to provide their
users inbuilt for splintering and merging their web identities within the
application. With Hydra, applications can let users decorrelate data to
context-specific identities (\eg for work or for family), easily
move their data between identities, spin off new identities when necessary, and
merge identities if desired. Importantly, only the user can determine which
web application identities are linked to themselves.
%
Hydra explores the result of taking application-supported data
decorrelation to the extreme, while preserving application functionality and
protecting correlations between data and users. Applications both retain
(decorrelated) data for \eg analytical or advertising purposes, while users gain
security and control over what data is linked to which of their web application
identities.

%Multi-account containers in Firefox let users act as distinct identities as they
%browse the web.


%\section{Funhouse}
