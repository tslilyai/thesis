This thesis envisions a world in which web services routinely
protect, store, and reveal \xxed user data with user permission.
%
To move towards this goal, this thesis present \sys, a system that gives users back
flexible privacy controls over their data via data disguising.
%
With \sys, developers can provide data \xxing and revealing transformations that
give users control over their data in web applications.
%
This thesis illustrates how these transformations help users protect
inactive accounts, selectively dissociate personal data from public profiles,
and remove a web service's access to their data without permanently losing their
accounts;
%
and demonstrates that \sys can support disguised data in real-world applications with
reasonable performance.
%

%
However, \sys is just the beginning. To truly achieve a world in which web
applications meet the desired flexible privacy standards, several
challenges remain unsolved, which we describe here as future
opportunities for research.
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Deploying Disguised Data}

Supporting disguised data in web applications that have millions or more users,
operate with low cost margins, and/or distribute their compute and storage
across multiple regions requires addressing several issues.

%
\paragraph{Disguised Data Storage.} If millions of users or more disguise
their data over time, disguised data may become too much for applications to
store.
%
Even though storage is historically cheap, and applications today willingly
store and retain user data nearly indefinitely, eventually disguised data
(particularly since it cannot be sold or processed) may burden the application.
%
\sys currently retains disguised data in its disguised table until a user
reveals their disguised data, which could be forever if users choose to never
reveal data.
%
Instead, \sys could allow applications to put reasonable, coarse-grained time
limits (\eg 10 years) on disguised data to eventually clean it up, without
leaking fine-grained information about which data was disguised at the same
time.
%

%
\paragraph{Deriving Value from Disguised Data.} 
\sys enables an application to keep as much data as possible if users exercise
their data protection rights, and to allow users to return to the application.
For many applications, this provides a better solution than handling user data
deletion requests via permanent user deletion, or decentralized approaches that
move all user data out of the application.

However, with \sys, applications store disguised data, but cannot derive value
from the now-confidential data.
%
Some clever cryptography, such as additive homomorphic secret sharing
as done in Zeph~\cite{zeph}, may potentially allow \sys to support limited computation such
as aggregations over disguised data from which an application can derive value.
%
However, such cryptographic approaches require some initial setup to determine
whose data can be aggregated with whose (in order to split the secrets
appropriately) and who should be able to reveal the result. Furthermore, defining
groups of users whose data can be combined requires more thought into what these
groups may reveal about their constituents.
%

\paragraph{\sys in Large-Scale Applications.}
Many web services, particularly those at scale, run on machines in various
regions and datacenters, and replicate and shard their database.
%
While distributed databases used by these applications (\eg
Spanner~\cite{spanner}) already implement parallel, distributed, and large-scale
transactions, \sys's disguising and revealing transactions may potentially
impose high burdens on distributed databases due to the size and frequency of
these transactions.
%
For example, \sys may need to handle thousands or more disguising (or
revealing) requests per second, and a disguise could touch all database tables.
%

%
Today, many applications will already break down large transactions into smaller
pieces (at the cost of transactional consistency) or run large transactions in
batches overnight to reduce their impact on database performance.
%
Similarly, we can imagine \sys breaking down large disguise and reveal transactions
into multiple, per-table transactions, so as to not lock all tables at once; or
delaying their execution until night and notifying the user once their
disguise or reveal has completed. 
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Disguising Beyond \sys: Flexible Access Control}
Disguising and revealing in \sys protects disguised data from any external party
other than the user themselves. However, disguising and revealing can also apply
in more nuanced settings, such as disguising data in different ways to 
protect from different parties. 
%
In these settings, disguising and revealing can offer potential opportunities for
more flexible access control to control user data exposure to web application
insiders.

%
As part of a collaboration with Hannah Gross~\cite{funhouse}, we investigated
using disguising abstractions to allow the application to control user data
exposure to insiders.
%
Our work draws on the key observation that company employees do not \emph{always}
need the user information that they can typically access.
%
Just as \sys allows users to expose their data only while using the application,
perhaps the application can use disguising and revealing to only expose user
data to employees when they actually need and use it.
%

%
To achieve this goal, we envision a world where every employee operates atop a
personalized disguised database that contains the minimum amount of data they
need continuously. For example, a hotel customer service representative might
only need to be able to look at room occupancy and see free rooms when not
actively helping a customer.
%
%Similarly, a business intelligence analyst might need to be able to compute
%aggregates and statistics using coarse-grained data like area codes, but not
%need to see unique user identifiers like usernames or precise phone numbers.
%%
%
However, disguised databases would present only the minimal amount of data the
employee needs; if, for example, a particular customer needs assistance, the
employee currently helping the customer should be able to temporarily reveal
parts of their disguised database to dynamically expose that user's data.
%
Different employees simultaneously helping different customers can reveal
different disguises to get a partially disguised view of the database
individualized for that employee.
%
As soon as the employee no longer needs the user's data, the employeeâ€™s access
returns back to its original, maximally disguised state.
%

%
To achieve this flexible access control, we need a database system that applies
disguises and dynamically reveals them at a per-employee granularity.
%
A strawman solution might attempt to do so with personalized database views
(similar to the proposal in Multiverse DB~\cite{multiverse}), but this would
require an enormous number of views (potentially one for each employee, and for
each reveal the employee requests).
%
Furthermore, just as with \sys, disguises cannot break the database: they would
need to handle referential integrity, work even in the presence of indexes and
database views, and work with existing query optimizations without overly
affecting performance.
%
Employees must also have the ability to flexibly perform fine-grained reveals of
their disguised views without compromising security.
%
While \sys's disguising and revealing abstractions can help address some of
these challenges (\eg handling referential integrity with decorrelation),
achieving a database system for flexible access control requires solving many
new challenges.

%
%Today, thousands of insiders at companies have access to sensitive user data,
%and this access can lead to devastating data leaks.
%
%One important part of this problem stems from the fact that today, employees
%have access to all the data that they need for their job at any point in time.
%For example, a hotel employee might be given authorization to see the full room
%booking and customer database because they need this information to perform
%their job, such as performing aggregates to determine room occupancy; or helping
%customers manage their bookings
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Final Thoughts}
Today, user data increasingly lands in the hands of web services, which reduce
or remove users' ability to control the privacy of their data as they wish.
%
While \sys represents just one step forward in improving user data privacy on
the web, this thesis and \sys thus demonstrate that with disguised data,
applications can support flexible privacy features beyond what they offer users
today.


\sys provides proof to both web services and regulators that flexible
privacy features can be supported with reasonable efforts, and thus can and
should be widely implemented and enforced.
%
